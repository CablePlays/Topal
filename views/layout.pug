extends ./head

block body
  script(src="/javascripts/layouts/layout.js")

  .topbar
    img.logo(src="/assets/logos/logo.svg" onclick="location.href='/'")
    .links
      a#home-tab(href='/') Home
      a#awards-tab(href='/awards') Awards
      script.
        const path = location.pathname

        if (path === "/") {
          byId("home-tab").classList.add("selected")
        } else if (path === "/awards") {
          byId("awards-tab").classList.add("selected")
        }

    .search
      #search-icon.material-icons search
      .vertical-line
      input#search-input(type='text' placeholder='Search..')

    a.sign-in.signin-link(style=`display: ${displays.loggedIn.false.block}`) Sign In
    #account-display(onclick=`location.href="/profile/${user.id}"` style=`display: ${displays.loggedIn.true.flex}`)
      img(src=user.profilePicture)
      div
        p.name= user.fullName
        p.email= user.email

    #sidebar-icon.hamburger-icon
      div
      div
      div

  .topbar-spacer

  #sidebar
    a(href="/") Home
    a(href="/awards") Awards
    a(href="/leaderboards") Leaderboards
    a(href="/search") Search
    a(href="/settings") Settings
    a(href=`/profile/${user.id}` style=`display: ${displays.loggedIn.true.block}`) Profile
    //- a Admin
    a.signin-link(style=`display: ${displays.loggedIn.false.block}`) Sign In
    button#logout-button(style=`display: ${displays.loggedIn.true.block}`) Sign Out

  .content-block-container
    block content

  footer
    p.a &copy 2023 <a href="/">TOPAL</a>
    a.treverton-link(href="https://www.treverton.co.za" target="_blank") TREVERTON

  block script