extends ../layout


block content
  script(src="/javascripts/layouts/profile-layout.js")

  #corner-details
    img(src=profileUser.profilePicture)
    p= profileUser.titleName

  .col1
    .spacer.v20

    .name-and-picture
      img(src=profileUser.profilePicture)
      div
        p= profileUser.titleName
        .badges
          .tooltip(style=`display: ${badges.team}`)
            img(src="/assets/badges/team.png")
            .tooltiptext Team Award
          .tooltip(style=`display: ${badges.halfColours}`)
            img(src="/assets/badges/half-colours.png")
            .tooltiptext Half Colours
          .tooltip(style=`display: ${badges.colours}`)
            img(src="/assets/badges/colours.png")
            .tooltiptext Colours
          .tooltip(style=`display: ${badges.honours}`)
            img(src="/assets/badges/honours.png")
            .tooltiptext Honours
          .tooltip(style=`display: ${badges.duo}`)
            img(src="/assets/badges/duo.png")
            .tooltiptext Duo

    .spacer.v20

    p.pl16= grade
    p.email.pl16= profileUser.email

    div(style=`display: ${displays.permission.manageAwards.block}`)
      .spacer.v20

      joined-buttons#profile-page-buttons
        a(href=`/profile/${profileUser.id}`) Profile
        a(href=`/profile/${profileUser.id}/admin`) Admin
      script.
        function getProfileUserId() {
          return parseInt(location.pathname.split("/")[2])
        }

        const profilePageButtons = byId("profile-page-buttons")
        const page = location.pathname.split("/")[3]
        let selected

        if (page === "admin") {
          selected = 1
        } else if (page === "requests") {
          selected = 2
        }
        if (selected) profilePageButtons.setAttribute("selected", selected)

    block sidebar

  .col2
    block profile-content